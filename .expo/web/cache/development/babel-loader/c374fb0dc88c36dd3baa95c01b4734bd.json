{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jovan Zuniga\\\\Desktop\\\\COVID-NineTeam\\\\components\\\\main\\\\Profile.js\";\nimport React, { useState } from 'react';\nimport { StatusBar } from 'expo-status-bar';\nimport fire from \"../fire\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nvar handleLogout = function handleLogout() {\n  fire.auth().signOut();\n  location.reload();\n};\n\nvar firstLoad = true;\nexport default function Profile() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sex = _useState4[0],\n      setSex = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      age = _useState6[0],\n      setAge = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      weight = _useState8[0],\n      setWeight = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      feet = _useState10[0],\n      setFeet = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inches = _useState12[0],\n      setInches = _useState12[1];\n\n  var _useState13 = useState(undefined),\n      _useState14 = _slicedToArray(_useState13, 2),\n      profilePic = _useState14[0],\n      setProfilePic = _useState14[1];\n\n  var storage = fire.storage().ref();\n  var usersDB = fire.firestore().collection('users');\n  var userID = fire.auth().currentUser.uid;\n  var totalHeight = feet * 12 + inches * 1;\n  var BMI = (weight / (totalHeight * totalHeight) * 703).toFixed(2);\n  var childPath = \"image/\" + fire.auth().currentUser.uid + \"/profilePicture.jpeg\";\n\n  if (childPath != undefined) {\n    storage.child(childPath).getDownloadURL().then(function (url) {\n      setProfilePic(url);\n      console.log(url);\n    });\n  } else {\n    console.log('child path is not defined...');\n  }\n\n  var updateProfile = function updateProfile() {\n    usersDB.doc(userID).update({\n      name: name,\n      age: age,\n      feet: feet,\n      inches: inches,\n      weight: weight\n    });\n  };\n\n  var getUserInfo = function getUserInfo() {\n    usersDB.doc(userID).get().then(function (snapshot) {\n      setName(snapshot.data().name);\n      setSex(snapshot.data().sex);\n      setAge(snapshot.data().age);\n      setWeight(snapshot.data().weight);\n      setFeet(snapshot.data().feet);\n      setInches(snapshot.data().inches);\n    });\n  };\n\n  if (firstLoad == true) {\n    getUserInfo();\n    firstLoad = false;\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.contentCenter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"light-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Profile\"), React.createElement(View, {\n    style: styles.profileScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: profilePic\n    },\n    style: {\n      width: '50%',\n      height: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: styles.profileRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Name:  \"), React.createElement(TextInput, {\n    style: styles.profileData,\n    placeholder: name.toString(),\n    returnKeyType: \"done\",\n    onChangeText: function onChangeText(newName) {\n      return setName(newName);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 66\n    }\n  })), React.createElement(View, {\n    style: styles.profileRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Age:  \"), React.createElement(TextInput, {\n    style: styles.profileData,\n    placeholder: age.toString(),\n    returnKeyType: \"done\",\n    onChangeText: function onChangeText(newAge) {\n      return setAge(newAge);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 65\n    }\n  })), React.createElement(View, {\n    style: styles.profileRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Height:  \"), React.createElement(TextInput, {\n    style: styles.heightInput,\n    placeholder: feet.toString(),\n    returnKeyType: \"done\",\n    onChangeText: function onChangeText(newFeet) {\n      return setFeet(newFeet);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 68\n    }\n  }), React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"'  \"), React.createElement(TextInput, {\n    style: styles.heightInput,\n    placeholder: inches.toString(),\n    returnKeyType: \"done\",\n    onChangeText: function onChangeText(newInches) {\n      return setInches(newInches);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 62\n    }\n  }), React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"\\\"\")), React.createElement(View, {\n    style: styles.profileRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"Weight:  \"), React.createElement(TextInput, {\n    style: styles.weightInput,\n    placeholder: weight.toString(),\n    returnKeyType: \"done\",\n    onChangeText: function onChangeText(newWeight) {\n      return setWeight(newWeight);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 68\n    }\n  }), React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \" lbs\")), React.createElement(Text, {\n    style: styles.profileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"BMI: \", BMI), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, \"\\n\\n\"), React.createElement(Button, {\n    title: \"Save changes\",\n    onPress: updateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    onPress: handleLogout,\n    title: \"Logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  })));\n}\nvar styles = {\n  contentCenter: {\n    height: '100%',\n    backgroundColor: \"#192879\",\n    alignItems: 'center'\n  },\n  profileScreen: {\n    height: '80%',\n    width: '80%',\n    backgroundColor: \"#FFFFFF\"\n  },\n  profileData: {\n    fontSize: 20\n  },\n  profileRow: {\n    flexDirection: 'row'\n  },\n  heightInput: {\n    fontSize: 20,\n    width: 25\n  },\n  weightInput: {\n    fontSize: 20,\n    width: 40\n  }\n};","map":{"version":3,"sources":["C:/Users/Jovan Zuniga/Desktop/COVID-NineTeam/components/main/Profile.js"],"names":["React","useState","StatusBar","fire","SafeAreaView","handleLogout","auth","signOut","location","reload","firstLoad","Profile","name","setName","sex","setSex","age","setAge","weight","setWeight","feet","setFeet","inches","setInches","undefined","profilePic","setProfilePic","storage","ref","usersDB","firestore","collection","userID","currentUser","uid","totalHeight","BMI","toFixed","childPath","child","getDownloadURL","then","url","console","log","updateProfile","doc","update","getUserInfo","get","snapshot","data","styles","contentCenter","profileScreen","uri","width","height","profileRow","profileData","toString","newName","newAge","heightInput","newFeet","newInches","weightInput","newWeight","backgroundColor","alignItems","fontSize","flexDirection"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport { StatusBar } from 'expo-status-bar'\r\nimport fire from '../fire'\r\nimport { Text, View, Button, TextInput, Image } from 'react-native'\r\nimport { SafeAreaView } from 'react-native-safe-area-context'\r\n\r\nconst handleLogout = () => \r\n{\r\n    fire.auth().signOut()\r\n    location.reload(); \r\n}\r\n\r\nvar firstLoad = true;\r\n\r\nexport default function Profile()\r\n{    \r\n    const [name, setName] = useState(\"\");\r\n    const [sex, setSex] = useState(\"\");\r\n    const [age, setAge] = useState(\"\");\r\n    const [weight, setWeight] = useState(\"\");\r\n    const [feet, setFeet] = useState(\"\");\r\n    const [inches, setInches] = useState(\"\");\r\n    \r\n    const [profilePic, setProfilePic] = useState(undefined);\r\n    const storage = fire.storage().ref();\r\n\r\n    const usersDB = fire.firestore().collection('users')\r\n    const userID = fire.auth().currentUser.uid\r\n    \r\n    let totalHeight = (feet*12) + inches*1;\r\n    const BMI = (weight/(totalHeight*totalHeight)*703).toFixed(2);\r\n\r\n    var childPath = `image/${fire.auth().currentUser.uid}/profilePicture.jpeg`;\r\n\r\n    if(childPath != undefined) \r\n    {\r\n        storage.child(childPath).getDownloadURL().then((url) => {\r\n            setProfilePic(url);\r\n            console.log(url);\r\n        })\r\n    } \r\n    else \r\n    {\r\n        console.log('child path is not defined...')\r\n    }\r\n\r\n    const updateProfile = () =>\r\n    {\r\n        usersDB.doc(userID).update(\r\n        {\r\n            name: name,\r\n            age: age,\r\n            feet: feet,\r\n            inches: inches,\r\n            weight: weight\r\n        })\r\n    }\r\n\r\n    //Get user information from firestore\r\n    const getUserInfo = () =>\r\n    {\r\n        usersDB.doc(userID).get().then((snapshot => \r\n        {\r\n            setName(snapshot.data().name)\r\n            setSex(snapshot.data().sex)\r\n            setAge(snapshot.data().age)\r\n            setWeight(snapshot.data().weight)\r\n            setFeet(snapshot.data().feet)\r\n            setInches(snapshot.data().inches)\r\n        }))\r\n    }\r\n\r\n    if(firstLoad == true)\r\n    {\r\n        getUserInfo();\r\n        firstLoad = false;\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style = {styles.contentCenter}>\r\n            <StatusBar barStyle='light-content' />\r\n            <Text>Profile</Text>\r\n            <View style = {styles.profileScreen}>\r\n\r\n                <Image source={{ uri: profilePic }} style={{width: '50%', height: '50%'}}/>\r\n                <View style = {styles.profileRow}>\r\n                <Text style = {styles.profileData}>Name:  </Text><TextInput \r\n                    style = {styles.profileData}\r\n                    placeholder = {name.toString()}\r\n                    returnKeyType = 'done'\r\n                    onChangeText = {newName => setName(newName)}\r\n                />\r\n                </View>\r\n\r\n                <View style = {styles.profileRow}>\r\n                <Text style = {styles.profileData}>Age:  </Text><TextInput \r\n                    style = {styles.profileData}\r\n                    placeholder = { age.toString() }\r\n                    returnKeyType = 'done'\r\n                    onChangeText = {newAge => setAge(newAge)}\r\n                />\r\n                </View>\r\n\r\n                <View style = {styles.profileRow}>\r\n                <Text style = {styles.profileData}>Height:  </Text><TextInput \r\n                    style = {styles.heightInput}\r\n                    placeholder = { feet.toString() }\r\n                    returnKeyType = 'done'\r\n                    onChangeText = {newFeet => setFeet(newFeet)}\r\n                />\r\n                <Text style = {styles.profileData}>'  </Text><TextInput \r\n                    style = {styles.heightInput}\r\n                    placeholder = { inches.toString() }\r\n                    returnKeyType = 'done'\r\n                    onChangeText = {newInches => setInches(newInches)}\r\n                />\r\n                <Text style = {styles.profileData}>\"</Text>\r\n                </View>\r\n\r\n                <View style = {styles.profileRow}>\r\n                <Text style = {styles.profileData}>Weight:  </Text><TextInput \r\n                    style = {styles.weightInput}\r\n                    placeholder = { weight.toString() }\r\n                    returnKeyType = 'done'\r\n                    onChangeText = {newWeight => setWeight(newWeight)}\r\n                />\r\n                <Text style = {styles.profileData}> lbs</Text>\r\n                </View>\r\n\r\n                <Text style = {styles.profileData}>BMI: {BMI}</Text>\r\n                <Text>{`\\n\\n`}</Text>\r\n\r\n                <Button\r\n                    title = 'Save changes'\r\n                    onPress = {updateProfile}\r\n                />\r\n                <Button\r\n                    onPress = {handleLogout}\r\n                    title = 'Logout'\r\n                />\r\n            </View>\r\n        </SafeAreaView>\r\n    );\r\n}   \r\n\r\nconst styles =\r\n{\r\n    contentCenter:\r\n    {\r\n        height: '100%',\r\n        backgroundColor: \"#192879\",\r\n        alignItems: 'center'\r\n    },\r\n    profileScreen:\r\n    {\r\n        height: '80%',\r\n        width: '80%',\r\n        backgroundColor: \"#FFFFFF\"\r\n    },\r\n    profileData:\r\n    {\r\n        fontSize: 20,\r\n    },\r\n    profileRow:\r\n    {\r\n        flexDirection: 'row',\r\n    },\r\n    heightInput:\r\n    {\r\n        fontSize: 20,\r\n        width: 25\r\n    },\r\n    weightInput:\r\n    {\r\n        fontSize: 20,\r\n        width: 40\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}